<!DOCTYPE html><html lang=en data-version=dbb5435><head><meta charset=utf-8><title>Writing Your Own Yeoman Generator | Yeoman</title><meta name=viewport content="width=device-width"><link rel=icon type=image/x-icon href=/static/favicon.b25e58c4b8.ico><meta name=google-site-verification content=fBQRJ6h7MV7_TJ7grbgq4P-d-07NRfDWPe4pqEEoH5w><link href="//fonts.googleapis.com/css?family=Roboto+Slab:400,700%7CRoboto:400,700,700italic,400italic" rel=stylesheet><link rel=stylesheet href=/static/bundle-5130.7da21b61dc.css><link href=/blog/atom.xml type=application/atom+xml rel=alternate title="Yeoman Blog Atom Feed"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css></head><body><header class=page-header><div class=container><div class=mobile-bar><h1 class=logo><a href=/ ><img src=/static/logo.2a54d87108.png alt=Yeoman></a></h1><button class="mobile-menu-toggle ir">open</button></div><nav class=main-menu><ul class=main-nav><li><a href=/learning/ >Using Yeoman</a><ul> <li><a href=/learning/index.html>Getting started</a></li> <li><a href=/codelab/index.html>Tutorial (codelab)</a></li> <li><a href=/learning/resources.html>Resources</a></li> <li><a href=/learning/deployment.html>Deployment</a></li> <li><a href=/learning/faq.html>FAQ</a></li> <li><a href=/learning/support.html>Support</a></li></ul></li><li><a href=/generators/ >Discovering generators</a></li> <li><a href=/authoring/ class=active>Creating a generator</a><ul> <li><a href=/authoring/index.html>Getting started</a></li> <li><a href=/authoring/running-context.html>Running Context</a></li> <li><a href=/authoring/user-interactions.html>User Interactions</a></li> <li><a href=/authoring/composability.html>Composability</a></li> <li><a href=/authoring/dependencies.html>Managing Dependencies</a></li> <li><a href=/authoring/file-system.html>Interacting with the file system</a></li> <li><a href=/authoring/storage.html>Storing user configs</a></li> <li><a href=/authoring/testing.html>Unit testing</a></li> <li><a href=/authoring/debugging.html>Debugging Generators</a></li> <li><a href=/authoring/integrating-yeoman.html>Integrating Yeoman in other tools</a></li> <li><a href=https://yeoman.github.io/generator/ >Full API documentation</a></li></ul></li><li><a href=/blog/ >Blog</a></li> <li><a href=/contributing/ >Contributing</a><ul> <li><a href=/contributing/index.html>Contributing</a></li> <li><a href=/contributing/opening-issues.html>How to open an issue</a></li> <li><a href=/contributing/pull-request.html>How to submit a PR</a></li> <li><a href=/contributing/style-guide.html>Style Guide</a></li> <li><a href=/contributing/testing-guidelines.html>Testing Guidelines</a></li> <li><a href=/contributing/ticketing.html>Issue system overview</a></li></ul></li></ul></nav></div></header><div class=SiteWrapper><div id=content><h2 class=page-title><span class=container>Writing Your Own Yeoman Generator</span></h2><div class="container clearfix has-sidebar"><nav class=context-nav><input id=q placeholder="Search the doc"><ul> <li><a href=/authoring/index.html>Getting started</a></li> <li><a href=/authoring/running-context.html>Running Context</a></li> <li><a href=/authoring/user-interactions.html>User Interactions</a></li> <li><a href=/authoring/composability.html>Composability</a></li> <li><a href=/authoring/dependencies.html>Managing Dependencies</a></li> <li><a href=/authoring/file-system.html>Interacting with the file system</a></li> <li><a href=/authoring/storage.html>Storing user configs</a></li> <li><a href=/authoring/testing.html>Unit testing</a></li> <li><a href=/authoring/debugging.html>Debugging Generators</a></li> <li><a href=/authoring/integrating-yeoman.html>Integrating Yeoman in other tools</a></li> <li><a href=https://yeoman.github.io/generator/ >Full API documentation</a></li></ul></nav><article class=main><section class=content-chunk><p>Generators are the building blocks of the Yeoman ecosystem. They’re the plugins run by <code class=highlighter-rouge>yo</code> to generate files for end users.</p><p>In reading this section, you’ll learn how to create and distribute your own.</p><aside class=excerpt>Note: We built a <a href=https://github.com/yeoman/generator-generator>generator-generator</a> to help users get started with their own generator. Feel free to use it to bootstrap your own generator once you understand the below concepts.</aside><h2 id=organizing-your-generators>Organizing your generators</h2><h3 id=setting-up-as-a-node-module>Setting up as a node module</h3><p>A generator is, at its core, a Node.js module.</p><p>First, create a folder within which you’ll write your generator. This folder must be named <code class=highlighter-rouge>generator-name</code> (where <code class=highlighter-rouge>name</code> is the name of your generator). This is important, as Yeoman relies on the file system to find available generators.</p><p>Once inside your generator folder, create a <code class=highlighter-rouge>package.json</code> file. This file is a Node.js module manifest. You can generate this file by running <code class=highlighter-rouge>npm init</code> from your command line or by entering the following manually:</p><div class="language-json highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=p>{</span><span class=w>
  </span><span class=s2>"name"</span><span class=p>:</span><span class=w> </span><span class=s2>"generator-name"</span><span class=p>,</span><span class=w>
  </span><span class=s2>"version"</span><span class=p>:</span><span class=w> </span><span class=s2>"0.1.0"</span><span class=p>,</span><span class=w>
  </span><span class=s2>"description"</span><span class=p>:</span><span class=w> </span><span class=s2>""</span><span class=p>,</span><span class=w>
  </span><span class=s2>"files"</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w>
    </span><span class=s2>"generators"</span><span class=w>
  </span><span class=p>],</span><span class=w>
  </span><span class=s2>"keywords"</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>"yeoman-generator"</span><span class=p>],</span><span class=w>
  </span><span class=s2>"dependencies"</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w>
    </span><span class=s2>"yeoman-generator"</span><span class=p>:</span><span class=w> </span><span class=s2>"^1.0.0"</span><span class=w>
  </span><span class=p>}</span><span class=w>
</span><span class=p>}</span><span class=w>
</span></code></pre></div></div><p>The <code class=highlighter-rouge>name</code> property must be prefixed by <code class=highlighter-rouge>generator-</code>. The <code class=highlighter-rouge>keywords</code> property must contain <code class=highlighter-rouge>"yeoman-generator"</code> and the repo must have a description to be indexed by our <a href=/generators/ >generators page</a>.</p><p>You should make sure you set the latest version of <code class=highlighter-rouge>yeoman-generator</code> as a dependency. You can do this by running: <code class=highlighter-rouge>npm install --save yeoman-generator</code>.</p><p>The <code class=highlighter-rouge>files</code> property must be an array of files and directories that is used by your generator.</p><p>Add other <a href=https://docs.npmjs.com/files/package.json><code class=highlighter-rouge>package.json</code> properties</a> as needed.</p><h3 id=folder-tree>Folder tree</h3><p>Yeoman’s functionality is dependent on how you structure your directory tree. Each sub-generator is contained within its own folder.</p><p>The default generator used when you call <code class=highlighter-rouge>yo name</code> is the <code class=highlighter-rouge>app</code> generator. This must be contained within the <code class=highlighter-rouge>app/</code> directory.</p><p>Sub-generators, used when you call <code class=highlighter-rouge>yo name:subcommand</code>, are stored in folders named exactly like the sub command.</p><p>In an example project, a directory tree could look like this:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>├───package.json
└───generators/
    ├───app/
    │   └───index.js
    └───router/
        └───index.js
</code></pre></div></div><p>This generator will expose <code class=highlighter-rouge>yo name</code> and <code class=highlighter-rouge>yo name:router</code> commands.</p><p>Yeoman allows two different directory structures. It’ll look in <code class=highlighter-rouge>./</code> and in <code class=highlighter-rouge>generators/</code> to register available generators.</p><p>The previous example can also be written as follows:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>├───package.json
├───app/
│   └───index.js
└───router/
    └───index.js
</code></pre></div></div><p>If you use this second directory structure, make sure you point the <code class=highlighter-rouge>files</code> property in your <code class=highlighter-rouge>package.json</code> at all the generator folders.</p><div class="language-json highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=p>{</span><span class=w>
  </span><span class=s2>"files"</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w>
    </span><span class=s2>"app"</span><span class=p>,</span><span class=w>
    </span><span class=s2>"router"</span><span class=w>
  </span><span class=p>]</span><span class=w>
</span><span class=p>}</span><span class=w>
</span></code></pre></div></div><h2 id=extending-generator>Extending generator</h2><p>Once you have this structure in place, it’s time to write the actual generator.</p><p>Yeoman offers a base generator which you can extend to implement your own behavior. This base generator will add most of the functionalities you’d expect to ease your task.</p><p>In the generator’s index.js file, here’s how you extend the base generator:</p><div class="language-js highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=kd>var</span> <span class=nx>Generator</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>'yeoman-generator'</span><span class=p>);</span>

<span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=kd>class</span> <span class=kd>extends</span> <span class=nx>Generator</span> <span class=p>{};</span>
</code></pre></div></div><p>We assign the extended generator to <code class=highlighter-rouge>module.exports</code> to make it available to the ecosystem. This is how we <a href=https://nodejs.org/api/modules.html#modules_module_exports>export modules in Node.js</a>.</p><h3 id=overwriting-the-constructor>Overwriting the constructor</h3><p>Some generator methods can only be called inside the <code class=highlighter-rouge>constructor</code> function. These special methods may do things like set up important state controls and may not function outside of the constructor.</p><p>To override the generator constructor, add a constructor method like so:</p><div class="language-js highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=kd>class</span> <span class=kd>extends</span> <span class=nx>Generator</span> <span class=p>{</span>
  <span class=c1>// The name `constructor` is important here</span>
  <span class=kd>constructor</span><span class=p>(</span><span class=nx>args</span><span class=p>,</span> <span class=nx>opts</span><span class=p>)</span> <span class=p>{</span>
    <span class=c1>// Calling the super constructor is important so our generator is correctly set up</span>
    <span class=k>super</span><span class=p>(</span><span class=nx>args</span><span class=p>,</span> <span class=nx>opts</span><span class=p>);</span>

    <span class=c1>// Next, add your custom code</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>option</span><span class=p>(</span><span class=s1>'babel'</span><span class=p>);</span> <span class=c1>// This method adds support for a `--babel` flag</span>
  <span class=p>}</span>
<span class=p>};</span>
</code></pre></div></div><h3 id=adding-your-own-functionality>Adding your own functionality</h3><p>Every method added to the prototype is run once the generator is called–and usually in sequence. But, as we’ll see in the next section, some special method names will trigger a specific run order.</p><p>Let’s add some methods:</p><div class="language-js highlighter-rouge"><div class=highlight><pre class=highlight><code><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=kd>class</span> <span class=kd>extends</span> <span class=nx>Generator</span> <span class=p>{</span>
  <span class=nx>method1</span><span class=p>()</span> <span class=p>{</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'method 1 just ran'</span><span class=p>);</span>
  <span class=p>}</span>

  <span class=nx>method2</span><span class=p>()</span> <span class=p>{</span>
    <span class=k>this</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=s1>'method 2 just ran'</span><span class=p>);</span>
  <span class=p>}</span>
<span class=p>};</span>
</code></pre></div></div><p>When we run the generator later, you’ll see these lines logged to the console.</p><h2 id=running-the-generator>Running the generator</h2><p>At this point, you have a working generator. The next logical step would be to run it and see if it works.</p><p>Since you’re developing the generator locally, it’s not yet available as a global npm module. A global module may be created and symlinked to a local one, using npm. Here’s what you’ll want to do:</p><p>On the command line, from the root of your generator project (in the <code class=highlighter-rouge>generator-name/</code> folder), type:</p><div class=highlighter-rouge><div class=highlight><pre class=highlight><code>npm link
</code></pre></div></div><p>That will install your project dependencies and symlink a global module to your local file. After npm is done, you’ll be able to call <code class=highlighter-rouge>yo name</code> and you should see the <code class=highlighter-rouge>this.log</code>, defined earlier, rendered in the terminal. Congratulations, you just built your first generator!</p><h3 id=finding-the-project-root>Finding the project root</h3><p>While running a generator, Yeoman will try to figure some things out based on the context of the folder it’s running from.</p><p>Most importantly, Yeoman searches the directory tree for a <code class=highlighter-rouge>.yo-rc.json</code> file. If found, it considers the location of the file as the root of the project. Behind the scenes, Yeoman will change the current directory to the <code class=highlighter-rouge>.yo-rc.json</code> file location and run the requested generator there.</p><p>The Storage module creates the <code class=highlighter-rouge>.yo-rc.json</code> file. Calling <code class=highlighter-rouge>this.config.save()</code> from a generator for the first time will create the file.</p><p>So, if your generator is not running in your current working directory, make sure you don’t have a <code class=highlighter-rouge>.yo-rc.json</code> somewhere up the directory tree.</p><h2 id=where-to-go-from-here>Where to go from here?</h2><p>After reading this, you should be able to create a local generator and run it.</p><p>If this is your first time writing a generator, you should definitely read the next section on <a href=/authoring/running-context.html>running context and the run loop</a>. This section is vital to understanding the context in which your generator will run, and to ensure that it will compose well with other generators in the Yeoman ecosystem. The other sections of the documentation will present functionality available within the Yeoman core to help you achieve your goals.</p></section></article></div></div><footer class=SiteFooter><div class=SiteFooter-donation><div class=Donation><div class=Donation-sticker-clipping><img src=/static/yeoman-character-sticker.51cef7e007.png class=Donation-sticker width=190 height=294 alt=Stickers!></div><div class=Donation-text><a href=https://yeoman.threadless.com/ >Show your love for <strong>Yeoman</strong>, <br> wear our <strong>merch</strong>!</a></div></div></div><ul class=SiteFooter-links><li><a href=https://plus.google.com/101063139999404044459/posts class=icon><img src=/static/social-gplus.5223e7bc73.svg class=SiteFooter-icon alt=Google+></a></li> <li><a href=https://twitter.com/yeoman class=icon><img src=/static/social-twitter.c359540fc8.svg class=SiteFooter-icon alt=Twitter></a></li> <li><a href=https://github.com/yeoman/yeoman class=icon><img src=/static/social-github.89959ef390.svg class=SiteFooter-icon alt=GitHub></a></li> <li><a href=/blog/atom.xml class=icon><img src=/static/social-feed.ad4bea7819.svg class=SiteFooter-icon alt=Feed></a></li> <li class=mobile-ln></li> <li><a href=https://yeoman.github.io/generator/ class="SiteFooter-button SiteFooter-button--light">API</a></li> <li><a href=https://github.com/yeoman/yeoman.github.io/blob/source/app/authoring/index.md class=SiteFooter-button title="Edit this page on GitHub to help improve the site">Improve this page</a></li></ul></footer><script src=//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js></script><script src=/static/bundle-5189.a5d021decb.js async></script><script>!function(a,b,c){'undefined'!=typeof c.module&&c.module.exports?c.module.exports=b():'undefined'!=typeof c.define&&'function'==c.define&&c.define.amd?define(a,b):c[a]=b()}('$script',function(){function a(a,b){for(var c=0,d=a.length;c<d;++c)if(!b(a[c]))return m;return 1}function b(b,c){a(b,function(a){return!c(a)})}function c(f,g,m){function o(a){return a.call?a():i[a]}function p(){if(!--t){i[s]=1,r&&r();for(var c in k)a(c.split('|'),o)&&!b(k[c],o)&&(k[c]=[])}}f=f[n]?f:[f];var q=g&&g.call,r=q?g:m,s=q?f.join(''):g,t=f.length;return setTimeout(function(){b(f,function(a){return l[a]?(s&&(j[s]=1),2==l[a]&&p()):(l[a]=1,s&&(j[s]=1),d(!h.test(a)&&e?e+a+'.js':a,p),void 0)})},0),c}function d(a,b){var c=f.createElement('script'),d=m;c.onload=c.onerror=c[r]=function(){c[p]&&!/^c|loade/.test(c[p])||d||(c.onload=c[r]=null,d=1,l[a]=2,b())},c.async=1,c.src=a,g.insertBefore(c,g.firstChild)}var e,f=document,g=f.getElementsByTagName('head')[0],h=/^https?:\/\//,i={},j={},k={},l={},m=!1,n='push',o='DOMContentLoaded',p='readyState',q='addEventListener',r='onreadystatechange';return!f[p]&&f[q]&&(f[q](o,function s(){f.removeEventListener(o,s,m),f[p]='complete'},m),f[p]='loading'),c.get=d,c.order=function(a,b,d){!function e(f){f=a.shift(),a.length?c(f,e):c(f,b,d)}()},c.path=function(a){e=a},c.ready=function(d,e,f){d=d[n]?d:[d];var g=[];return!b(d,function(a){i[a]||g[n](a)})&&a(d,function(a){return i[a]})?e():!function(a){k[a]=k[a]||[],k[a][n](e),f&&f(g)}(d.join('|')),c},c},this);var _gaq=[['_setAccount','UA-32956520-1'],['_setDomainName','.yeoman.io'],['_trackPageview'],['_trackPageLoadTime']];$script('https://www.google-analytics.com/ga.js'),$script('https://apis.google.com/js/plusone.js'),$script('//platform.twitter.com/widgets.js')//# sourceMappingURL=../static/yeoman-5268.f5cbe7e97e.map </script></div><script src=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js></script><script>docsearch({apiKey:'9df58ffd00f1dfb0eb2c5c6eaff8d971',indexName:'yeoman',inputSelector:'#q'})//# sourceMappingURL=../static/yeoman-5269.08d99b6657.map </script></body></html>